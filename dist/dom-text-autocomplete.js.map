{"version":3,"file":"dom-text-autocomplete.js","sources":["../node_modules/dom-eve/dist/bundle.es.js","../src/lib/char_tree.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar arguments$1 = arguments;\n\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments$1[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\nvar eventsProto = objectAssign(Object.create(null), {\n    on: function on(name, cb, options){\n        this.element.addEventListener(name, cb, options);\n        this._records[name] = this._records[name] || [];\n        this._records[name].push([\n            name, cb, options\n        ]);\n        return this;\n    },\n    off: function off(name, cb, options){\n        this.element.removeEventListener(name, cb, options);\n\n        if(this._records[name] !== void 0){\n            var records = this._records[name];\n\n            for(var i=0; i<records.length; i++){\n                if(records[i][1] === cb && records[i][2] === options){\n                    records.splice(i, 1);\n                    if(i + 1 !== records.length){\n                        --i;\n                    }\n                }\n            }\n        }\n        return this;\n    },\n    dispatch: function dispatch(event){\n        this.element.dispatchEvent(event);\n        return this;\n    },\n    clear: function clear(){\n        var this$1 = this;\n\n        for(var name in this$1._records){\n            var records = this$1._records[name];\n            records.forEach(function (record){\n                (ref = this$1).off.apply(ref, record);\n                var ref;\n            });\n        }\n        return this;\n    }\n});\n\nfunction events(element, tracker){\n    if ( tracker === void 0 ) tracker = null;\n\n    var eve = Object.create(eventsProto);\n    eve._records = Object.create(null);\n    if(typeof element === 'string'){\n        eve.element = document.querySelector(element);\n    }else{\n        eve.element = element;\n    }    \n\n    if(tracker){\n        tracker.list.push(eve);\n    }\n\n    return eve;\n}\n\nevents.track = function track(){\n    return {\n        list: [],\n        clear: function clear(){\n            this.list.forEach(function (item){\n                item.clear();\n            });\n        }\n    };\n};\n\nexport default events;\n//# sourceMappingURL=bundle.es.js.map\n","export default class CharTree {\n    constructor(){\n        this.tree = {branches: {}, items: []};\n    }\n    empty(){\n        this.tree = {branches: {}, items: []};\n    }\n    push(...datas){\n        datas.forEach(data=>{\n\n            let next = this.tree;\n            let list = data.split('');\n\n            list.forEach(ch=>{\n                let key = ch.toLowerCase();\n                next = (next.branches[key] = next.branches[key] || Object.create(null));\n                next.branches = next.branches || Object.create(null);\n                next.items = next.items || [];\n                next.items.push(data);\n                next.value = ch;\n            });\n\n            next.leaf = true;\n        });\n    }\n    remove(...datas){\n        datas.forEach(data=>{\n            let next = this.tree, last;\n            let list = data.value.split('');\n\n            for(let i=0; i<list.length; i++){\n                let char = list[i];\n                let key = char.toLowerCase();\n                let index;\n\n                last = next;\n                next = next.branches[key];\n\n                if(next === void 0) break;\n\n                if((index = next.items.indexOf(data.value)) !== -1){\n                    next.items.splice(index, 1);\n                    if(!next.items.length){\n                        delete last.branches[key];\n                    }else{\n                        next = next.branches[key];\n                    }\n                }\n\n            }\n        });\n    }\n    match(value){\n        let list = value.split('').map(v=>v.toLowerCase());\n\n        let next = this.tree,\n            len = list.length + 1,\n            last,\n            string = '';\n\n        if(!list.length) return {tree: null, string, value};\n\n        for(let i=0; i<len; i++){\n            last = next;\n            next = next.branches[list[i]];\n            if(!next){\n                if(list[i] !== void 0) last = null;\n                break;\n            }else{\n                string += next.value;\n            }\n        }\n\n        return {tree: last, string, value};\n    }\n    findAll(value){\n        let {tree} = this.match(value);\n        if(!tree) return [];\n        return [].concat(tree.items);\n    }\n    nextPhrase(value, sep){\n\n        let {tree, string} = this.match(value),\n            result = string;\n\n        sep = /[ ]+/;\n\n        const iter = (next)=>{\n\n            if(next.leaf){\n                return result;\n            }\n\n            let keys = Object.keys(next.branches);\n            for(let key in next.branches){\n                if(sep.test(key)){\n                    return result;\n                }\n                result += next.branches[key].value;\n                return iter(next.branches[key])\n\n            }\n        };\n\n        return iter(tree);\n    }\n}\n\nfunction lower(item){\n    return item.toLowerCase();\n}\n","import events from 'dom-eve';\nimport CharTree from './lib/char_tree.js';\n\nclass DOMTextAutocomplete {\n    constructor(input, {\n        read = null,\n        allowEntry = null,\n        entry = null,\n        render = null\n    }){\n        this.input = input;\n        this.searchable = new CharTree();\n        this._render = render;\n\n        const tracker = events.track();\n        events(input, tracker)\n        .on('keyup', event=>{\n            let info = {};\n            info.which = info.keyCode = event.which || event.keyCode;\n            if(allowEntry){\n                if(!allowEntry(info)){\n                    return;\n                }\n            }\n            if(read){\n                Promise.resolve(read.call(this, event))\n                .then(()=>{\n                    entry.call(this, event);\n                });\n                return;\n            }\n            entry.call(this, event);\n        });\n    }\n    fill(parent){\n        let value = this.input.value;\n        let found = this.searchable.findAll(value);\n        parent.innerHTML = '';\n        console.log(found)\n        found.forEach(data=>{\n            let html = this._render(data);\n            parent.insertAdjacentHTML(\n                'beforeend',\n                html\n            );\n            parent.lastChild.dataset[this.dataKey] = data.value;\n        });\n        return !!found.length;\n    }\n    push(...values){\n        values.forEach(value=>{\n            this.searchable.push(value);\n        });\n        return this;\n    }\n    empty(){\n        this.searchable.empty();\n    }\n}\n\nexport default function autoComplete(input, options){\n    return new DOMTextAutocomplete(input, options);\n}\n"],"names":["this","let"],"mappings":"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"}