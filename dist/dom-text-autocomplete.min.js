var domTextAutocomplete=function(){"use strict";function e(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(e,t){void 0===t&&(t=null);var r=Object.create(o);return r._records=Object.create(null),r.element="string"==typeof e?document.querySelector(e):e,t&&t.list.push(r),r}var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(t,o){for(var c,a,s=arguments,u=e(t),l=1;l<arguments.length;l++){c=Object(s[l]);for(var h in c)n.call(c,h)&&(u[h]=c[h]);if(r){a=r(c);for(var f=0;f<a.length;f++)i.call(c,a[f])&&(u[a[f]]=c[a[f]])}}return u})(Object.create(null),{on:function(e,t,r){return this.element.addEventListener(e,t,r),this._records[e]=this._records[e]||[],this._records[e].push([e,t,r]),this},off:function(e,t,r){if(this.element.removeEventListener(e,t,r),void 0!==this._records[e])for(var n=this._records[e],i=0;i<n.length;i++)n[i][1]===t&&n[i][2]===r&&(n.splice(i,1),i+1!==n.length&&--i);return this},dispatch:function(e){return this.element.dispatchEvent(e),this},clear:function(){var e=this;for(var t in e._records)e._records[t].forEach(function(t){(r=e).off.apply(r,t);var r});return this}});t.track=function(){return{list:[],clear:function(){this.list.forEach(function(e){e.clear()})}}};var c=function(){this.tree={branches:{},items:[]}};c.prototype.empty=function(){this.tree={branches:{},items:[]}},c.prototype.push=function(){for(var e=this,t=[],r=arguments.length;r--;)t[r]=arguments[r];t.forEach(function(t){var r=e.tree;t.split("").forEach(function(e){var n=e.toLowerCase();(r=r.branches[n]=r.branches[n]||Object.create(null)).branches=r.branches||Object.create(null),r.items=r.items||[],r.items.push(t),r.value=e}),r.leaf=!0})},c.prototype.remove=function(){for(var e=this,t=[],r=arguments.length;r--;)t[r]=arguments[r];t.forEach(function(t){for(var r,n=e.tree,i=t.split(""),o=0;o<i.length;o++){var c=i[o].toLowerCase(),a=void 0;if(r=n,void 0===(n=n.branches[c]))break;-1!==(a=n.items.indexOf(t.value))&&(n.items.splice(a,1),n.items.length?n=n.branches[c]:delete r.branches[c])}})},c.prototype.match=function(e){var t,r=e.split("").map(function(e){return e.toLowerCase()}),n=this.tree,i=r.length+1,o="";if(!r.length)return{tree:null,string:o,value:e};for(var c=0;c<i;c++){if(t=n,!(n=n.branches[r[c]])){void 0!==r[c]&&(t=null);break}o+=n.value}return{tree:t,string:o,value:e}},c.prototype.findAll=function(e){var t=this.match(e).tree;return t?[].concat(t.items):[]},c.prototype.nextPhrase=function(e,t){var r=this.match(e),n=r.tree,i=r.string;t=/[ ]+/;var o=function(e){if(e.leaf)return i;Object.keys(e.branches);for(var r in e.branches)return t.test(r)?i:(i+=e.branches[r].value,o(e.branches[r]))};return o(n)};var a=function(e,r){var n=this,i=r.read;void 0===i&&(i=null);var o=r.allowEntry;void 0===o&&(o=null);var a=r.entry;void 0===a&&(a=null);var s=r.render;void 0===s&&(s=null),this.input=e,this.searchable=new c,this._render=s,t(e,t.track()).on("keyup",function(e){o&&!o(e)||(i?Promise.resolve(i.call(n,e)).then(function(){a.call(n,e)}):a.call(n,e))})};return a.prototype.fill=function(e){var t=this,r=this.input.value,n=this.searchable.findAll(r);return e.innerHTML="",n.forEach(function(r){var n=t._render(r);e.insertAdjacentHTML("beforeend",n)}),!!n.length},a.prototype.query=function(e,t){},a.prototype.push=function(){for(var e=this,t=[],r=arguments.length;r--;)t[r]=arguments[r];return t.forEach(function(t){e.searchable.push(t)}),this},a.prototype.empty=function(){return this.searchable.empty(),this},function(e,t){return new a(e,t)}}();
//# sourceMappingURL=dom-text-autocomplete.min.js.map
