var domTextAutocomplete=function(){"use strict";function e(e){for(var t=!1,n=!1,r=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.substr(0,o)+"-"+e.substr(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.substr(0,o-1)+"-"+e.substr(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i,r=n,n=i.toUpperCase()===i)}return e}function t(e){return e+""=="[object DocumentFragment]"}function n(e){return t(e)||r(e)}function r(e){return null!=e&&"object"==typeof e&&e.nodeType===Node.ELEMENT_NODE&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}function o(e){return"[object Date]"===Object.prototype.toString.call(e)}function i(){for(var e=arguments,n=[],o=arguments.length;o--;)n[o]=e[o];return n.map(function(e){if(void 0===e)return"";if(A(e)&&e.hasOwnProperty("element")&&(e=e.element),"string"==typeof e)return e;if(r(e))return e.outerHTML;if(t(e)){var n=document.createElement("div");return n.appendChild(e.cloneNode(!0)),n.innerHTML}}).join("")}function a(e){var t=document.createElement("div"),n=document.createDocumentFragment();for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n}function u(e){var t=a(e);return 1===t.children.length?t.removeChild(t.firstChild):t}function c(e){try{return e.toLocaleString(M,T)}catch(t){return e+""}}function l(e){if(o(e))return c(e);if(e.constructor===Object)try{return JSON.stringify(e,null,2)}catch(e){}return e+""}function s(e,t){if(e.dataset)return Object.keys(t).forEach(function(n){return e.dataset[k(n)]=t[n]}),e}function f(e,t){if(e.setAttribute&&-1===[3,8,2].indexOf(e.nodeType))return Object.keys(t).forEach(function(n){e.setAttribute(n,t[n]+"")}),e}function d(e,t){var n=window.getComputedStyle(e);e.style&&Object.keys(t).forEach(function(r){void 0!==n[r]?e.style[k(r)]=t[r]+"":e.style.setProperty("--"+decamelize(r,"-"),t[r]+"")})}function h(e){for(var t=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=t[r+1];return"string"!=typeof e&&O(e)?(e=S(e),n.length?p(e.reduce(function(e,t,r){return e+t+i(n[r])},"")):e.reduce(function(e,t){return e.appendChild(p(t)),e},document.createDocumentFragment())):p(e)}function p(e){if(A(e)&&(e.hasOwnProperty("element")&&(e=e.element),A(e))){if(n(e)||e===document)return e;if(e.hasOwnProperty("tag"))return y(e);e=l(e)}try{var t=document.querySelector(e);if(t)return t}catch(e){}return u(e)}function y(e){var t,n,r=null,o=Object.keys(e),a=function(e){return-1!==(n=o.indexOf(e+""))&&(o.splice(n,1),!0)};if(!a("tag"))throw new Error('obj must have a "tag" property with a DOM tag name');return t=document.createElement(e.tag.toLowerCase()),a("attributes")&&A(e.attributes)&&f(t,e.attributes),a("data")&&A(e.data)&&s(t,e.data),a("innerHTML")&&(t.innerHTML=i(e.innerHTML)),a("head")&&t.appendChild(h(e.head)),a("children")&&O(e.children)&&v(t,e.children),a("foot")&&t.appendChild(h(e.foot)),a("style")&&A(e.style)&&d(t,e.style),a("parent")&&(r=h(e.parent)),o.forEach(function(n){"function"===e[n]||A(e[n])||(t[n]=e[n])}),r&&r.appendChild(t),t}function v(e,t){return S(t).forEach(function(t){e.appendChild(h(t))}),e}function m(e,t){return q(e,"."+t.main)?e:e.children.length&&!q(e,"."+t.data)?el.querySelector("."+t.data):e}var g=Array.isArray,b=Object.prototype.toString,w=g||function(e){return!!e&&"[object Array]"==b.call(e)},E=function(e){if(null==e)return!1;var t=Object(e);return t===t.window},j=function(e){var t=C.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},C=Object.prototype.toString,O=function(e){if(!e)return!1;if(w(e))return!0;if(j(e)||E(e))return!1;var t="length"in(e=Object(e))&&e.length;return!(1!==e.nodeType||!t)||(0===t||"number"==typeof t&&t>0&&t-1 in e)},L=function(){var e=function(e){return"function"==typeof e},t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},n=Math.pow(2,53)-1,r=function(e){var r=t(e);return Math.min(Math.max(r,0),n)},o=function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}},i=function(t,n){if(null!=t&&null!=n){var r=t[n];if(null==r)return;if(!e(r))throw new TypeError(r+" is not a function");return r}},a=function(e){var t=e.next();return!Boolean(t.done)&&t};return function(t){var n,u=this,c=arguments.length>1?arguments[1]:void 0;if(void 0!==c){if(!e(c))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}var l,s,f=i(t,o(t));if(void 0!==f){l=e(u)?Object(new u):[];var d=f.call(t);if(null==d)throw new TypeError("Array.from requires an array-like or iterable object");s=0;for(var h,p;;){if(!(h=a(d)))return l.length=s,l;p=h.value,l[s]=c?c.call(n,p,s):p,s++}}else{var y=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var v=r(y.length);l=e(u)?Object(new u(v)):new Array(v),s=0;for(var m;s<v;)m=y[s],l[s]=c?c.call(n,m,s):m,s++;l.length=v}return l}}(),S="function"==typeof Array.from?Array.from:L,k=function(t){return 0===(t=arguments.length>1?Array.from(arguments).map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):t.trim()).length?"":1===t.length?t.toLowerCase():/^[a-z0-9]+$/.test(t)?t:(t!==t.toLowerCase()&&(t=e(t)),t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}))},A=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},T={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},M=window.navigator.userLanguage||window.navigator.language,x="undefined"!=typeof Element?Element.prototype:{},N=x.matches||x.matchesSelector||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector||x.oMatchesSelector,q=function(e,t){if(!e||1!==e.nodeType)return!1;if(N)return N.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1},D=function(e,t){function n(e){p.call(v,e),l&&9===e.keyCode?C(e):v.visible&&(40===e.keyCode?v.choose(1):38===e.keyCode&&v.choose(-1))}function r(e){var t=e.keyCode||e.which;if(v.visible&&13===t){var n=v.element.querySelector("."+E);n&&d.call(v,n.dataset[s],n),e.preventDefault()}}function o(e){if(!L){L=!0;var t=m(e.target,targets);d.call(v,t.dataset[s],t)}}function i(e){L=!1}var a=this;void 0===t&&(t={});var u=t.parent;void 0===u&&(u="<ol></ol>");var c=t.classes;void 0===c&&(c={});var l=t.tabbing;void 0===l&&(l=null);var s=t.dataKey;void 0===s&&(s="value");var f=t.display;void 0===f&&(f="block");var d=t.select;void 0===d&&(d=function(e){this.input.value=e,this.hide()});var p=t.activate;void 0===p&&(p=function(){this.show()});var y=t.children;void 0===y&&(y=[]);var v=this;try{this.input="string"==typeof e?document.querySelector(e):e}catch(e){throw e}var g=c||{},b=g.main;void 0===b&&(b="main-target");var w=g.data;void 0===w&&(w="value-target");var E=g.selected;void 0===E&&(E="auto-selected"),c=this.classes={main:b,data:w,selected:E},Object.keys(c).forEach(function(e){try{document.querySelector("."+e)}catch(e){throw e}}),this.display=f,this.dataKey=s;var j=this.dataProp=k(s);this.element=h(u),this.element.style.opacity=0;var C,O=l;l&&"function"!==l&&(O=function(e,t){console.log(arguments);for(var n=e.split(l),r=t.split(l),o=0;o<n.length&&0!==n[o].indexOf(r[o]);o++);if(o===r.length)return t}),O&&(C=function(t){for(var n=v.children,r=e.value,o=0;o<n.length;o++){var i=m(n[o],v.classes),a=O(r,i.dataset[j]);if(a){e.value=a;break}}t.preventDefault()}),y.forEach(function(e){return a.push(e)});var L=!1;document.addEventListener("keyup",r),e.addEventListener("keyup",n,!1),this.element.addEventListener("mousedown",o,!1),this.element.addEventListener("mouseup",i,!1),this.destroy=function(){document.removeEventListener("keyup",r),e.removeEventListener("keyup",n,!1),this.element.removeEventListener("mousedown",o,!1),this.element.removeEventListener("mouseup",i,!1),this.remove()}},H={children:{},visible:{}};return D.prototype.show=function(){var e=this;this.forEach(function(t){0===(t=m(t,e.classes)).dataset[e.dataKey].indexOf(e.input.value)?t.style.display=e.display:t.style.display="none"}),this.element.style.opacity=1},D.prototype.forEach=function(e){this.children.forEach(e)},H.children.get=function(){return Array.prototype.slice.call(this.element.children)},H.visible.get=function(){return!!this.element.style.opacity},D.prototype.choose=function(e){if(-1!==[-1,1].indexOf(e)){var t=this.classes.selected,n=this.element.querySelector("."+t),r=this.children,o=n?r.indexOf(n)+e:0;if(o===r.length?o=0:-1===o&&(o=r.length-1),1===e){for(var i=o;i<r.length;++i)if("none"!==r[i].style.display){r[i].classList.add(t);break}}else for(var a=o;a>=0;--a)if("none"!==r[a].style.display){r[a].classList.add(t);break}n&&n.classList.remove(t)}},D.prototype.hide=function(){this.element.style.opacity=0},D.prototype.push=function(e){return this.element.appendChild(h(e)),this},D.prototype.replace=function(e){var t=this;return e.forEach(function(e){return t.push(e)}),this},D.prototype.appendTo=function(e){return e.appendChild(this.element),this},D.prototype.remove=function(){if(this.element.parentNode)return this.element.parentNode.removeChild(this.element)},Object.defineProperties(D.prototype,H),function(e,t){return new D(e,t)}}();
//# sourceMappingURL=dom-text-autocomplete.min.js.map
